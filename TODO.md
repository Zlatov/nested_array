# Что реализовано, необходимо реализовать и почему

## Почему

### Почему возвращаем массив Hash

Когда хотим из плоской структуры получить древовидную, то на руках мы можем
иметь данные различного типа, например, массив Hash или массив ActiveRecord,
результатом обработки должен быть массив объектов у которых должно быть поле
children содержащее потомков. Именно поэтому мы не можем оставлять в результате
массив ActiveRecord, так как поле children будет конфликтовать с уже
существующим методом, например при использовании гема closure_tree. С другой
стороны мы моглибы внедрить поле nested_children во все объекты ActiveRecord,
но такой подход, мне кажется, похож на «Monkey patch».


## TODO

Хочу возвращать массив OpenStruct вместо массива Hash.

При возврате массива OpenStruct (всегда) пропадает смысл метода `each_nested!`
который должен отдавать в переменной node исходные данные (ну они не исходые
уже). Поэтому необходимо выпустить версию 3.0.0 с удалением метода
`each_nested!`.

Переработать README-ru и на английский доперевести в конце концов.
